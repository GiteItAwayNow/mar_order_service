# Kafka клиент(consumer)
Используется для отправки данных заказа
в чат клиенту от имени бизнеса при создании нового
заказа

## Начало установки

### Stack
- Python 3.8

Перед началом установки проекта в системе должен быть установлен Python

## Установка

### 1. Перейти в папку клиента(kafka_app)
*Это папка с файлом `client.py`
Все дальшейшие действия совершаются внутри неё*

### 2. Создать и активировать виртуальное окружение
```
python -m venv venv
source venv/bin/activate
```
*venv - путь к папке виртуального окружения
можно оставить просто venv, и тогда папка создастся в текущей*

### 3. Установить зависимости
```
pip install -r requirements.txt
```

### 4. Добавить переменные окружения
```
source .env
```
* KAFKA_BROKERS: список адресов брокеров Kafka через запятую - ```{host}:{port},{host}:{port},{host}:{port}```
* SEND_ORDER_CHAT_MESSAGE: название topic для отравки данных заказа в чат клиенту при оформлении заказа. **Должно быть такое же значение, как и у аналогичной переменной в сервисе заказов**

* CHATS_SERVICE_ADDRESS: адрес сервиса чатов
* SEND_CHAT_MESSAGE_ENDPOINT: эндпоинт для отправки сообщения в чат
* ACCOUNT_SERVICE_ADDRESS: адрес сервиса аккаунтов
* BUSINESS_PROFILE_DATA_ENDPOINT: эндпоинт для получения данных бизнес-профиля

### 5. Стартовать клиент из папки kafka_app
```
python client.py
```
